# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –§–ò–ù–ê–ù–°–û–í–´–• –†–ê–°–ß–ï–¢–û–í

## ‚úÖ **–û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

### 1. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ –≤—ã—Ä—É—á–∫–∏**
**–ë–´–õ–û (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):**
```typescript
// –î–≤–æ–π–Ω–æ–π –≤—ã—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π
const netProfit = payout - commission_amount; // –û–®–ò–ë–ö–ê!
```

**–°–¢–ê–õ–û (–ü–†–ê–í–ò–õ–¨–ù–û):**
```typescript
// payout —É–∂–µ –∏—Å–∫–ª—é—á–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏: payout = price_total - commission_amount
const netProfit = payout; // –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
```

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–¥–∞–∂ –≤ —Ñ–∏–Ω–∞–Ω—Å–∞—Ö**
**–ë–´–õ–û (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):**
```typescript
// –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ quantity
const sales = SUM(payout * quantity); // –û–®–ò–ë–ö–ê!
```

**–°–¢–ê–õ–û (–ü–†–ê–í–ò–õ–¨–ù–û):**
```typescript
// payout —É–∂–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –µ–¥–∏–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞ –≤ –∑–∞–∫–∞–∑–µ
const sales = SUM(payout); // –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
```

### 3. **–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤**
- ‚úÖ –†–µ–∫–ª–∞–º–∞
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç—ã  
- ‚úÖ –ö–æ–º–∏—Å—Å–∏–∏
- ‚úÖ –î–æ—Å—Ç–∞–≤–∫–∞
- ‚úÖ –≠–∫–≤–∞–π—Ä–∏–Ω–≥ (–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è)
- ‚úÖ –£—Å–ª—É–≥–∏

### 4. **–ú–∞–ø–ø–∏–Ω–≥ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É map_operation_types**
–¢–µ–ø–µ—Ä—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑:
- `finance_transactions` + `map_operation_types`
- `finance_transaction_services`
- `finance_transaction_items`

### 5. **–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å**
–ü–æ –≤–∞—à–µ–π –ø—Ä–æ—Å—å–±–µ —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ "–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ".

## üìä **–°–≤—è–∑—å –≤–∫–ª–∞–¥–æ–∫ –§–∏–Ω–∞–Ω—Å—ã –∏ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è**

**–î–∞, –≤—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ!** 
- **–§–∏–Ω–∞–Ω—Å—ã** = –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è** = –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ —Ç–µ—Ö –∂–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–û–±–µ –≤–∫–ª–∞–¥–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `finance_transactions`, —Ç–æ–ª—å–∫–æ —Å —Ä–∞–∑–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

## üîç **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**

–î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤–∫–ª–∞–¥–∫–∏ "–ü—Ä–æ–¥–∞–∂–∏" vs "–§–∏–Ω–∞–Ω—Å—ã"
- –ü—Ä–æ–≤–µ—Ä–∫—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º—É–ª
- –í—ã—è–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö

## üéØ **–§–æ—Ä–º—É–ª—ã –≤ –∏—Ç–æ–≥–µ:**

### –í–∫–ª–∞–¥–∫–∞ "–ü—Ä–æ–¥–∞–∂–∏":
- **GMV**: `SUM(price_total)`
- **–í—ã—Ä—É—á–∫–∞**: `SUM(payout)` 
- **–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å**: `payout` (—É–∂–µ –∏—Å–∫–ª—é—á–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏)

### –í–∫–ª–∞–¥–∫–∞ "–§–∏–Ω–∞–Ω—Å—ã":
- **–û–±—â–∏–π –¥–æ—Ö–æ–¥**: `SUM(payout)` (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –≤—ã—Ä—É—á–∫–æ–π)
- **–†–∞—Å—Ö–æ–¥—ã**: –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `finance_transactions` –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å**: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞

–¢–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏! üöÄ